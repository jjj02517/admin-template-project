import{a as C}from"./Tooltip-39cef23e.js";import{I as h}from"./iconify-a2c84290.js";import{_ as w,r as n,o as a,c as d,b as s,m as z,n as M,t as u,f as m,a as _,u as g,e as k,w as x,q as F,B as D}from"./index-27f9ada7.js";const U={class:"common-file-input-component"},T={class:"file-input flex items-center"},$=["for"],N=["id","file-type","accept"],j={key:0,class:"file-add-info ml-2"},V={key:0},q={key:0,class:"file-info flex items-center mt-1.4"},A={class:"size ml-auto mr-1"},E={class:"error-pop-content"},G={__name:"FileInput",props:{width:{type:String,default:"",description:"file label 어드민 버튼용 width"},height:{type:String,default:"",description:"file label 어드민 버튼용 height"},admin:{type:Boolean,default:!1,description:"file label 어드민 버튼용 타입"},circle:{type:Boolean,default:!1,description:"file label 카메라 아이콘 타입"},rigthInfoUse:{type:Boolean,default:!1,description:"파일 첨부 우측 안내문구 노출사용여부"},noFileDeleteUse:{type:Boolean,default:!1,description:"첨부된 파일 삭제 기능 노출"},fileId:{type:String,default:"",description:"file fileId"},fileAccept:{type:String,default:"",description:"file accept"},fileUploadSize:{type:Number,default:null,description:"file accept"},fileType:{type:String,default:"",description:"file accept"}},emits:["change"],setup(I,{emit:y}){const t=I,c=n(!1),r=n(null),f=n(""),v=n(""),p=n(""),B=i=>{const e=i.target.files[0],o=document.querySelector(`#${t.fileId}`);let l=!0;e.size>1024*1024*t.fileUploadSize&&(r.value=`첨부 용량을 초과하였습니다.<br/>${t.fileUploadSize}MB미만으로 다시 첨부하시길 바랍니다.`,l=!1),t.fileType==="image"&&!e.type.includes("jpg")&&!e.type.includes("jpeg")&&!e.type.includes("png")&&(r.value="첨부파일을 다시 확인하시길 바랍니다.<br/>jpg,jpeg,png만 첨부 가능합니다.",l=!1),t.fileType==="pdf"&&(e.type.includes("pdf")||(r.value="첨부파일을 다시 확인하시길 바랍니다.<br/>pdf만 첨부 가능합니다",l=!1)),l?(p.value=e,f.value=e.name,S(e.size),y("change",p.value)):(o.value="",c.value=!0)},S=i=>{const e=["bytes","KB","MB","GB","TB","PB"],o=Math.floor(Math.log(parseInt(i))/Math.log(1024));return o==="-Infinity"?"0 "+e[0]:v.value=(parseInt(i)/Math.pow(1024,Math.floor(o))).toFixed(2)+" "+e[o]},b=()=>{const i=document.querySelector(`#${t.fileId}`);i.value="",f.value="",v.value="",p.value="",y("change",p.value)};return(i,e)=>{const o=D("dompurify-html");return a(),d("div",U,[s("div",T,[s("label",{for:t.fileId,style:z({width:t.width,height:t.height}),class:M({circle:t.circle,admin:t.admin})},"FILE ADD",14,$),s("input",{id:t.fileId,type:"file","file-type":t.fileType,accept:t.fileAccept,onChange:e[0]||(e[0]=l=>B(l))},null,40,N),t.rigthInfoUse?(a(),d("div",j," * 파일 첨부 제한 : "+u(t.fileUploadSize)+"MB / 파일 확장자 : "+u(t.fileType),1)):m("",!0)]),t.noFileDeleteUse?m("",!0):(a(),d("div",V,[f.value?(a(),d("div",q,[_(g(h),{icon:"uim:paperclip",class:"paperclip-icon mr-1"}),s("span",null,u(f.value),1),s("span",A,u(v.value),1),_(g(h),{icon:"material-symbols:close-rounded",class:"delete-icon",onClick:e[1]||(e[1]=l=>b())})])):m("",!0)])),c.value?(a(),k(C,{key:1,width:"456px",height:"auto","confirm-btn":"","no-cancel":"",persistant:"",onClose:e[2]||(e[2]=l=>c.value=!1),onConfirm:e[3]||(e[3]=l=>c.value=!1)},{content:x(()=>[F(s("div",E,null,512),[[o,r.value]])]),_:1})):m("",!0)])}}},H=w(G,[["__scopeId","data-v-5a165212"]]);export{H as C};
