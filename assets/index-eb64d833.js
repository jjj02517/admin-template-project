import{d as O,i as y,n as L,a as W,r as h,t as b,b as I,c as M}from"./index-7a13ef20.js";import{r as S,k as g,j as P}from"./index-9a568092.js";function v(e){var t;const o=h(e);return(t=o==null?void 0:o.$el)!=null?t:o}const C=M?window:void 0;function m(...e){let t,o,n,i;if(W(e[0])||Array.isArray(e[0])?([o,n,i]=e,t=C):[t,o,n,i]=e,!t)return L;Array.isArray(o)||(o=[o]),Array.isArray(n)||(n=[n]);const u=[],d=()=>{u.forEach(a=>a()),u.length=0},s=(a,p,r,l)=>(a.addEventListener(p,r,l),()=>a.removeEventListener(p,r,l)),c=g(()=>[v(t),h(i)],([a,p])=>{d(),a&&u.push(...o.flatMap(r=>n.map(l=>s(a,r,l,p))))},{immediate:!0,flush:"post"}),w=()=>{c(),d()};return b(w),w}let E=!1;function A(e,t,o={}){const{window:n=C,ignore:i=[],capture:u=!0,detectIframe:d=!1}=o;if(!n)return;y&&!E&&(E=!0,Array.from(n.document.body.children).forEach(r=>r.addEventListener("click",L)));let s=!0;const c=r=>i.some(l=>{if(typeof l=="string")return Array.from(n.document.querySelectorAll(l)).some(f=>f===r.target||r.composedPath().includes(f));{const f=v(l);return f&&(r.target===f||r.composedPath().includes(f))}}),a=[m(n,"click",r=>{const l=v(e);if(!(!l||l===r.target||r.composedPath().includes(l))){if(r.detail===0&&(s=!c(r)),!s){s=!0;return}t(r)}},{passive:!0,capture:u}),m(n,"pointerdown",r=>{const l=v(e);l&&(s=!r.composedPath().includes(l)&&!c(r))},{passive:!0}),d&&m(n,"blur",r=>{var l;const f=v(e);((l=n.document.activeElement)==null?void 0:l.tagName)==="IFRAME"&&!(f!=null&&f.contains(n.document.activeElement))&&t(r)})].filter(Boolean);return()=>a.forEach(r=>r())}const B={[O.mounted](e,t){const o=!t.modifiers.bubble;if(typeof t.value=="function")e.__onClickOutside_stop=A(e,t.value,{capture:o});else{const[n,i]=t.value;e.__onClickOutside_stop=A(e,n,Object.assign({capture:o},i))}},[O.unmounted](e){e.__onClickOutside_stop()}},_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k="__vueuse_ssr_handlers__";_[k]=_[k]||{};_[k];function D(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientHeight<e.scrollHeight||t.overflowY==="auto"&&e.clientWidth<e.scrollWidth)return!0;{const o=e.parentNode;return!o||o.tagName==="BODY"?!1:D(o)}}function H(e){const t=e||window.event,o=t.target;return D(o)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function N(e,t=!1){const o=S(t);let n=null,i;g(I(e),s=>{if(s){const c=s;i=c.style.overflow,o.value&&(c.style.overflow="hidden")}},{immediate:!0});const u=()=>{const s=h(e);!s||o.value||(y&&(n=m(s,"touchmove",c=>{H(c)},{passive:!1})),s.style.overflow="hidden",o.value=!0)},d=()=>{const s=h(e);!s||!o.value||(y&&(n==null||n()),s.style.overflow=i,o.value=!1)};return b(d),P({get(){return o.value},set(s){s?u():d()}})}const T=()=>{let e=!1;const t=S(!1);return(o,n)=>{if(t.value=n.value,e)return;e=!0;const i=N(o,n.value);g(t,u=>i.value=u)}};T();export{B as v};
